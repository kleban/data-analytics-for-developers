"use strict";(self.webpackChunk_roots_bud_sage_forge_theme=self.webpackChunk_roots_bud_sage_forge_theme||[]).push([[536],{"../node_modules/@roots/bud-client/lib/dom-ready.js":(e,t,o)=>{o.d(t,{A:()=>s});const s=e=>{window.requestAnimationFrame((async function t(){document.body?await e():window.requestAnimationFrame(t)}))}},"./scripts/component-modal.js":(e,t,o)=>{var s=o("../node_modules/@roots/bud-client/lib/dom-ready.js");const a=class{constructor(e){this.modal=e,this.modalId=e.dataset.modalId,this.modalClose=e.querySelector(".forge-modal__close"),this.modalContent=e.querySelector(".forge-modal__content"),this.modalTriggers=document.querySelectorAll(`[data-modal-target="${this.modalId}"]`),this.addTriggers()}addTriggers(){if(this.modalTriggers.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),this.open()}))})),"load"===this.modal.dataset.trigger){const e=this.modal.dataset.delay||2e3;setTimeout((()=>{this.open()}),e)}this.modal.addEventListener("click",(()=>{"true"===this.modal.dataset.overlayCanClose&&this.close()})),this.modalClose.addEventListener("click",(()=>{this.close()})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&"true"===this.modal.dataset.escapeCanClose&&this.close()})),this.modalContent.addEventListener("click",(e=>{e.stopPropagation()}))}open(){this.modal.classList.contains("hidden")&&(this.modal.classList.remove("hidden"),document.body.classList.add("overflow-hidden"),this.modalContent.querySelector("input, textarea, button, video, iframe").focus(),this.modal.dataset.autoplay&&this.playVideo())}close(){this.modal.classList.contains("hidden")||(this.stopVideo(),this.modal.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))}playVideo(){const e=this.modalContent.querySelectorAll("iframe"),t=this.modalContent.querySelectorAll("video");e.forEach((e=>{const t=e.src?e.src:e.dataset.src;t&&(e.src=t)})),t.forEach((e=>{e.play()}))}stopVideo(){const e=this.modalContent.querySelectorAll("iframe"),t=this.modalContent.querySelectorAll("video");e.forEach((e=>{const t=e.src;t&&(this.modal.dataset.autoplay?(e.dataset.src=t,e.removeAttribute("src")):e.src=t)})),t.forEach((e=>{e.pause()}))}};(0,s.A)((async()=>{document.querySelectorAll(".forge-modal").forEach((e=>{new a(e)}))}))}},e=>{var t;t="./scripts/component-modal.js",e(e.s=t)}]);